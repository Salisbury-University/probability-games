<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="styleSheet.css">
</head>

<title> Monty Hall Problem</title>

<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
<!-- <script src="pixi.min.js"></script> -->

<div style="background-color: teal;padding-bottom: 5px; border-bottom: 6px solid black;">
    <h1 class="centerText">Monty Hall Problem</h1>
</div>

<script>
    var Doors = [0, 0, 0];
    var carLocation = Math.floor(Math.random() * 3);
    Doors[carLocation] = 1;
    var gamesPlayed = 0;
    var gamesWon = 0;
    var gamesLost = 0;
    var keptDoor = 0;
    var switchDoors = 0;
</script>


<div style="background-color: aquamarine; padding-bottom: 20px;">
    <div class="row" style="width: 80%;margin-left: 15%;padding-bottom: 20px; padding-top: 20px;">
        <div class="col-lg-4 col-md-4 col-xs-4 thumb">

            <img class="img-responsive" src="ClosedDoro.png" width="300px" alt="Door 1" id="door0">
            <button onclick="chooseDoor(0)" class="btns" id="buttonDoor0"> Door 1</button>

        </div>
        <div class="col-lg-4 col-md-4 col-xs-4 thumb">

            <img class="img-responsive" src="ClosedDoro.png" width="300px" alt="Door 2" id="door1">
            <button onclick="chooseDoor(1)" class="btns" id="buttonDoor1"> Door 2</button>

        </div>
        <div class="col-lg-4 col-md-4 col-xs-4 thumb">

            <img class="img-responsive" src="ClosedDoro.png" width="300px" alt="Door 3" id="door2">
            <button onclick="chooseDoor(2)" class="btns" id="buttonDoor2"> Door 3</button>
        </div>
    </div>
</div>


<div class="statsSection">
    <h1 class="centerText"> Statistics For Game </h1>
    <div class="text-center">
        <button type="button" class="btn btn-primary" onclick="playAgain()">Play Again</button>
         <button type="button" class="btn btn-primary" onclick="simulateGame(10)">Simulate 10</button>
    </div>
    <div class="row" style="text-align: center;">
        <div class="col-md-6">
            <h3 id="gamesPlayed">Games Played: 0 </h3>
            <h3 id="gamesWon">Games Won: 0</h3>
            <h3 id="gamesLost">Games Lost: 0</h3>
        </div>
        <div class="col-md-6">
            <h3 id="switchDoorsWon"> Switched doors and won: 0</h3>
            <h3 id="keptDoorsWon"> Kept door and won: 0</h3>

        </div>
    </div>
</div>


<script>
    var string = "Door Zero: " + Doors[0] + "-- Door One: " + Doors[1] + "-- Door Two: " + Doors[2];
    //document.getElementById("goatLoc").innerHTML = string;

    function playAgain() {

        Doors[0] = 0;
        Doors[1] = 0;
        Doors[2] = 0;

        carLocation = Math.floor(Math.random() * 3);
        Doors[carLocation] = 1;

        document.getElementById("door0").src = "ClosedDoro.png";
        document.getElementById("door1").src = "ClosedDoro.png";
        document.getElementById("door2").src = "ClosedDoro.png";
        document.getElementById("buttonDoor0").disabled = false;
        document.getElementById("buttonDoor1").disabled = false;
        document.getElementById("buttonDoor2").disabled = false;

    }

    function chooseDoor(x) {
        var revealGoat = x;
        //displays the other goat location
        while (revealGoat == x || revealGoat == carLocation) {
            revealGoat = Math.floor(Math.random() * 3);
        }

        var stringToDisplay = "You selected door: " + (x + 1) + " There is a goat at door: " + (revealGoat + 1) + " Do you want to switch doors?";


        var choice = window.confirm(stringToDisplay);

        var doorChoice = x;
        if (choice) {
            var remainderDoor = 5;
            remainderDoor = remainderDoor - (x + 1);
            remainderDoor = remainderDoor - (revealGoat + 1);
            doorChoice = remainderDoor;
        }

        if (Doors[0] == 0) {
            document.getElementById("door0").src = "goat.jfif";
        } else {
            document.getElementById("door0").src = "car.jfif";
        }

        if (Doors[1] == 0) {
            document.getElementById("door1").src = "goat.jfif";
        } else {
            document.getElementById("door1").src = "car.jfif";
        }

        if (Doors[2] == 0) {
            document.getElementById("door2").src = "goat.jfif";
        } else {
            document.getElementById("door2").src = "car.jfif";
        }


        updateStats(doorChoice, choice);
        //having trouble revealing last door
        document.getElementById("buttonDoor0").disabled = true;
        document.getElementById("buttonDoor1").disabled = true;
        document.getElementById("buttonDoor2").disabled = true;
        window.alert("Door selected: " + (doorChoice + 1) + "Car was located at door: " + (carLocation + 1));
    }

    function updateStats(x, choice) {
        gamesPlayed++;
        if (x == carLocation)
            gamesWon++;
        else
            gamesLost++;

        if (choice)
            switchDoors++;
        else
            keptDoor++;

        document.getElementById("gamesPlayed").innerHTML = "Games Played: " + gamesPlayed;
        document.getElementById("gamesWon").innerHTML = "Games Won: " + gamesWon;
        document.getElementById("gamesLost").innerHTML = "Games Lost: " + gamesLost;
        document.getElementById("switchDoorsWon").innerHTML = "Switched doors and won: " + switchDoors;
        document.getElementById("keptDoorsWon").innerHTML = "Kept doors and won: " + keptDoor;
    }
    function simulateGame(timesPlayed)
    {
        var switchDoor;
        switchDoor = window.confirm("Switch doors?");
        var ranDoor = 0;
        var goatDoor;
        for(let i = 0; i < timesPlayed; i++)
        {
            carLocation = Math.floor(Math.random() * 3);
            Doors[carLocation] = 1;
            ranDoor = Math.floor(math.random()*3);
            while (goatDoor == x || goatDoor == carLocation) {
                goatDoor = Math.floor(Math.random() * 3);
            }

            if(switchDoor)
            {
                var remainderDoor = 5;
                remainderDoor = remainderDoor - (x + 1);
                remainderDoor = remainderDoor - (goatDoor + 1);
                ranDoor = remainderDoor;
            }
            
            updateStats(ranDoor, switchDoor);
            playAgain();

        }

    }
</script>


</html>
