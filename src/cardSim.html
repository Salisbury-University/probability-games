<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css" />
  <link rel="stylesheet" href="../css/card.css" type="text/css" />
  <link rel="stylesheet" href="../css/settings.css" type="text/css" />


  <!-- favicon stuff -->
  <link rel="apple-touch-icon" sizes="180x180" href="../images/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="../images/favicon-16x16.png" />
  <link rel="manifest" href="../images/site.webmanifest" />

  <title>Sum of Two Dice Game</title>
  <script src="https://cdn.anychart.com/releases/8.0.0/js/anychart-base.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>

<body>
  <!-- instructions modal -->
  <div class="modal fade" id="howToPlay" tabindex="-1" aria-labelledby="instructionsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" style="position: relative; top: 10%">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="instructionsModalLabel">
            How to Play
          </h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="container-fluid m-2 p-2">
            <div class="row">
              <div id="list-instructions" class="list-group col-3">
                <a class="list-group-item list-group-item-action" href="#list-item-1">Game Setup</a>
                <a class="list-group-item list-group-item-action" href="#list-item-2">Placing Chips</a>
                <a class="list-group-item list-group-item-action" href="#list-item-3">Rolling the Dice</a>
                <a class="list-group-item list-group-item-action" href="#list-item-4">Removing Chips</a>
                <a class="list-group-item list-group-item-action" href="#list-item-4">Winning the Game</a>
              </div>
              <div data-bs-spy="scroll" data-bs-target="#list-instructions" data-bs-offset="0" tabindex="0" class="col"
                style="height: 40em; overflow-y: scroll">
                <h4 id="list-item-1">Game Setup</h4>
                <ul>
                  <li>There are <b> 2 players</b></li>
                  <li>
                    There are <b>12 cards labeled 2, 3, 4, 5, .., 12</b>,
                    representing all possible sums of the roll of two dice
                  </li>
                  <li>Each player starts with <b>10 chips</b></li>
                </ul>
                <h4 id="list-item-2">Placing Chips</h4>
                <p>
                  In the first phase of the game, players take turns spreading
                  their chips out accross all cards one at a time. To place a
                  chip on a card, when it is the players turn, they can
                  <b>click on a card, and their next chip will be placed
                    there.</b>
                  Players take turns placing their chips until all 10 are
                  placed.
                </p>

                <div class="text-center">
                  <img src="../gifs/clickToPlace.gif" style="max-height: 350px" />
                </div>
                <h4 id="list-item-3">Rolling the Dice</h4>
                <p>
                  After all of the chips are placed, a roll button will
                  appear. The player whose turn it is can simply
                  <b>click on the roll button to roll the dice.</b>
                </p>
                <h4 id="list-item-4">Removing Chips</h4>
                <p>
                  When the player rolls the dice, they must add up the sum of
                  the two dice. Once they get the sum, they check the card
                  labeled with that sum. If they have a chip on that card,
                  they can <b>click their chip on that card</b>, and it will
                  be removed from it.
                </p>
                <div class="text-center">
                  <img src="../gifs/clickToRemove.gif" style="max-height: 350px" />
                </div>
                <h4 id="list-item-4">Winning the Game</h4>
                <p>
                  The player who is able to
                  <b>remove all of their chips from the cards first wins!</b>
                  So remember to place your chips on the cards with the dice
                  sums you think are likely to be rolled most often.
                </p>

                <div class="text-center">
                  <img src="../gifs/winGame.gif" style="max-height: 350px" />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Settings Modal -->
  <div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5">Settings</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row text-align">
            <div class="col-3">
              <p>Light Theme</p>
            </div>
            <div class="col-2">
              <label class="switch">
                <input id="themeTypeSwitch" type="checkbox" onclick="changeTheme()" />
                <span class="slider round"></span>
              </label>
            </div>
            <div class="col-3">
              <p>Dark Theme</p>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="home.html" style="color: white"><img src="../images/logo.png" alt="logo"
          style="max-height: 35px" /></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Games
            </a>
            <ul class="dropdown-menu">
              <li>
                <a class="dropdown-item" href="diceRoll.html">Dice Roll</a>
              </li>
              <li>
                <a class="dropdown-item" href="coinFlip.html">Coin Flip</a>
              </li>
              <li>
                <a class="dropdown-item" href="GoatGame.html">Monty Hall Problem</a>
              </li>
              <li>
                <a class="dropdown-item" href="needles.html">Buffons Needles</a>
              </li>
              <li>
                <a class="dropdown-item" href="card.html">12 Card Game</a>
              </li>
              <li>
                <a class="dropdown-item" href="dice27.html">Game of 27</a>
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/Salisbury-University/probability-games.git">GitHub</a>
          </li>
        </ul>

        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
          <div class="btn-group me-2" role="group" aria-label="First group">
            <button type="radio" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#howToPlay">
              How to Play
            </button>
          </div>
          <div class="btn-group me-2" role="group" aria-label="Second group">
            <input type="radio" class="btn-check" name="btnradio" id="basic_btn" autocomplete="off"
              onclick="window.location.href = 'card.html'" />
            <label class="btn btn-outline-primary" for="basic_btn">Game</label>
            <input type="radio" class="btn-check" name="btnradio" id="advanced_btn" autocomplete="off" checked />
            <label class="btn btn-outline-primary" for="advanced_btn">Simulation</label>
          </div>
          <div class="btn-group me-2" role="group" aria-label="Third group">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#settingsModal">
              <img src="../images/setting.png" style="max-height: 22px; vertical-align: middle" />
            </button>
          </div>
        </div>
        <!-- settings button -->
      </div>
    </div>
  </nav>

  <!-- Main Body -->
  <div class="container-fluid">
    <!-- HEADER ROW -->
    <div class="row m-3">
      <div class="text-center">
        <h2 style="font-weight: bold">Sum of Two Dice Simulator</h2>
      </div>
    </div>
    <hr class="featurette-divider" />

    <!-- DATA ROW -->
    <div class="row m-3">
      <!-- LEFT COLUMN -->
      <div class="col mx-2 border rounded bg-secondary text-white">
        <div class="text-center p-2 text-white">
          <h5>Options</h5>
        </div>
        <ul class="list-group">
          <li class="list-group-item pt-3">
            <button type="button" class="btn btn-primary pt-2 pb-2 m-2" id="rndBtn" onclick="randomPlacement();"
              autocomplete="off" data-bs-toggle="tooltip" data-bs-placement="top" title="Tooltip on top">
              Randomly Place Chips
            </button>
          </li>
          <li class="list-group-item pb-3">
            <p class="m-2">Number of Games:</p>
            <input type="text" inputmode="numeric" pattern="[0-9]*" class="m-2" value="100" aria-label=""
              autocomplete="off" id="numSimulations" oninput="updateRuns(this);" />
          </li>
          <li class="list-group-item">
            <div class="text-center">
              <p class="m-2" style="font-weight: bold">
                Stored Distributions:
              </p>
            </div>
            <div class="dropdown m-2">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="distDropdown"
                data-bs-toggle="dropdown" aria-expanded="false">
                Distribution Selection
              </button>
              <ul class="dropdown-menu" id="dropdownList" aria-labelledby="distDropdown"
                style="max-height: 300px; overflow-y: scroll"></ul>
            </div>
            <div class="btn-group">
              <button class="btn btn-primary m-2" onclick="saveDistribution();" id="saveButton" autocomplete="off"
                disabled>
                Save New Distribution
              </button>
              <button class="btn btn-danger m-2" id="delButton" autocomplete="off" onclick="deleteDistribution();"
                disabled>
                Delete Distribution
              </button>
            </div>
          </li>
        </ul>
        <div class="text-center">
          <button type="button" class="btn btn-primary p-2 m-2" id="simBtn" onclick="simulate();" autocomplete="off"
            disabled>
            Simulate
          </button>
        </div>
      </div>

      <!-- MIDDLE COLUMN -->
      <div class="col mx-2 p-2 border rounded" style="min-width: 20%">
        <div class="text-center">
          <h5 class="p-2">Recent Game Results</h5>
        </div>
        <div class="text-center" style="font-weight: bold" hidden>
          <ul class="list-group">
            <li class="list-group-item">
              <p id="min_label">Min Rolls:</p>
              <p id="max_label">Max Rolls:</p>
            </li>
            <li class="list-group-item">
              <p id="mean_label">Mean Rolls:</p>
              <p id="total_label">Total Rolls:</p>
            </li>
          </ul>
        </div>
        <div class="accordion accordian-flush" id="accordianTable">
          <div class="accordion-item">
            <h1 class="accordion-header" id="headingOne">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                aria-expanded="false" aria-controls="collapseOne">
                <h5>Game Log</h5>
              </button>
            </h1>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
              data-bs-parent="#accordianTable">
              <div class="accordion-body" style="max-height: 23em; overflow-y: scroll">
                <h5 id="tableTitle">Multiple Games Roll Data</h5>
                <table class="table" id="rollDataTable">
                  <thead>
                    <tr>
                      <th scope="col">Min</th>
                      <th scope="col">Max</th>
                      <th scope="col">Mean</th>
                      <th scope="col">Total</th>
                      <th scope="col">Games Played</th>
                      <th scope="col">Chip Distribution</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
                <!-- create a button -->
                <div class="text-center">
                  <button class="btn btn-outline-secondary" id="clearBtn" onclick="clearTable();" autocomplete="off">
                    Clear Table
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT COLUMN -->
      <div class="col mx-2 border rounded">
        <div class="text-center">
          <div class="p-2">
            <h5>Simulation histogram</h5>
          </div>
          <p>
            <svg width="500" height="300" id="histogram"></svg>
          </p>
          <p id="hoverDistribution" hidden>
            [0, 0 0, 0, 0, 0, 0, 0, 0, 0, 0]
          </p>
          <button type="button" class="btn btn-outline-secondary m-2" onclick="clearChart()" id="clearChartBtn">
            Clear chart
          </button>
        </div>
      </div>
    </div>

    <!-- BOTTOM ROW -->
    <!-- can just use innerHTML for function, not every damn one needs an id -->
    <div class="row m-3">
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card2">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 2</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card2label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card3">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 3</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card3label">0</h1>
        </div>

        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>

      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card4">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 4</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card4label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card5">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 5</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card5label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card6">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 6</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card6label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card7">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 7</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card7label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card8">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 8</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card8label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card9">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 9</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card9label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card10">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 10</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card10label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card11">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 11</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card11label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col m-2 p-2 border rounded bg-secondary text-white" id="card12">
        <div class="text-center">
          <p class="h4" style="font-weight: bold">Card 12</p>
          <hr class="featurette-divider" />
          <p># of chips:</p>
          <h1 id="card12label">0</h1>
        </div>
        <div class="text-center bg-white m-2 rounded">
          <button class="btn btn-danger m-2" onclick="removeChips(this);">
            -1
          </button>
          <button class="btn btn-primary m-2" onclick="addChips(this);">
            +1
          </button>
        </div>
      </div>
      <div class="col-12 text-center">
        <h3 class="mt-3 m-2" id="RemainingChipsLabel" style="font-weight: bold">
          Remaining Chips: 10
        </h3>
        <div class="btn btn-outline-secondary" onclick="clearChips()">
          Clear Cards
        </div>
      </div>
    </div>

    <!-- FOOTER ROW -->
    <div class="row">
      <footer class="col-12" style="bottom: 0">
        <hr class="featurette-divider" />
        <div class="float-start">
          <p>&middot; Salisbury University &middot;</p>
        </div>
      </footer>
    </div>
  </div>
  <script src="js/cardSim.js"></script>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
</body>

</html>