class ProbabilitySimulator{constructor(){this.stats=[],this.totalRolls=0;for(let t=0;t<28;t++)this.stats[t]=0}simulate(t){if(""!=t)for(let e=0;e<t;e++){let a=27,l=0;for(;0!=a;){let r=a%(l=Math.floor(6*Math.random())+1);a-=r,this.stats[a]++,this.totalRolls++}}}resetStats(){this.totalRolls=0;for(let t=0;t<28;t++)this.stats[t]=0}displayStats(){document.getElementById("totalRolls").innerHTML=this.totalRolls,document.getElementById("totalGames").innerHTML=this.stats[0]}}class ScreenManagement{#a;constructor(){this.#a=document.getElementById("themeTypeSwitch");"dark"==sessionStorage.getItem("theme")&&(document.getElementById("themeTypeSwitch").checked=!0,this.#b()),this.#c()}#c(){this.#a.addEventListener("click",()=>{this.#b()})}#b(){let t=document.querySelectorAll(".text"),e=document.querySelectorAll(".menu");if(this.#a.checked){document.body.style.backgroundColor="#343a40";for(let a=0;a<t.length;a++)t[a].style.color="white";for(let l=0;l<e.length;l++)e[l].style.backgroundColor="#343a40";sessionStorage.setItem("theme","dark")}else{document.body.style.backgroundColor="#ffffff";for(let r=0;r<t.length;r++)t[r].style.color="black";for(let o=0;o<e.length;o++)e[o].style.backgroundColor="#ffffff";sessionStorage.setItem("theme","light")}}}const screen=new ScreenManagement,simulator=new ProbabilitySimulator;function simulate(){let t=Number(document.getElementById("userInput").value);0!=t&&(simulator.simulate(t),simulator.displayStats(),updateChart(simulator.stats))}function reset(){simulator.resetStats(),simulator.displayStats(),updateChart(simulator.stats)}function getX(t){for(let e=0;e<28;e++)if(simulator.stats[e]==t)return e}function updateChart(t){let e={top:20,right:20,bottom:50,left:75},a=960-e.left-e.right,l=500-e.top-e.bottom,r=d3.select("svg");r.selectAll("*").remove();let o=r.append("g").attr("transform",`translate(${e.left}, ${e.top})`),s=d3.scaleBand().domain(t.map((t,e)=>e)).range([0,a]).padding(.1),i=d3.max(t),n=d3.scaleLinear().domain([0,i>0?i:1]).range([l,0]),c=d3.axisBottom(s),m=d3.axisLeft(n);o.append("g").attr("transform",`translate(0, ${l})`).call(c),o.append("g").call(m),o.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",a/2).attr("y",l+e.bottom-5).text("Number of Chips Remaining"),o.append("text").attr("class","y label").attr("text-anchor","middle").attr("x",-l/2).attr("y",-e.left+15).attr("transform","rotate(-90)").text("Number of Hits");var f=d3.select("#quantity");o.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",(t,e)=>s(e)).attr("y",t=>n(t)).attr("width",s.bandwidth()).attr("height",t=>l-n(t)).attr("fill","#6495ED").on("mouseover",function(t,e){d3.select(this).transition().duration("50").attr("opacity",".85"),f.transition().duration(50).style("opacity",1),f.html(getX(e)+": "+e)}).on("mouseout",function(t,e){d3.select(this).transition().duration("50").attr("opacity","1"),f.transition().duration("50").style("opacity",0)}),document.getElementById("themeTypeSwitch").checked?o.selectAll("text").attr("fill","#ffffff"):o.selectAll("text").attr("fill","#000000")}